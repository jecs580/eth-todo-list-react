(this["webpackJsonpeth-todo-lis-react"]=this["webpackJsonpeth-todo-lis-react"]||[]).push([[0],{195:function(e,t,n){e.exports=n(476)},200:function(e,t,n){},214:function(e,t){},223:function(e,t){},241:function(e,t){},243:function(e,t){},260:function(e,t){},261:function(e,t){},263:function(e,t){},264:function(e,t){},340:function(e,t){},342:function(e,t){},351:function(e,t){},353:function(e,t){},378:function(e,t){},380:function(e,t){},386:function(e,t){},387:function(e,t){},389:function(e,t){},401:function(e,t){},404:function(e,t){},409:function(e,t){},420:function(e,t){},423:function(e,t){},475:function(e,t,n){},476:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),o=n(193),i=n.n(o),r=(n(200),n(201),n(17)),s=n.n(r),l=n(64),u=n(29),m=n(101),p=n.n(m),d=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"string",name:"content",type:"string"},{indexed:!1,internalType:"bool",name:"completed",type:"bool"}],name:"TaskCreated",type:"event"},{constant:!0,inputs:[],name:"taskCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tasks",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"string",name:"content",type:"string"},{internalType:"bool",name:"completed",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"_content",type:"string"}],name:"createTask",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"toggleCompleted",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];n(475);var f=function(e){var t=e.tasks,n=e.createTask,o=e.completed,i=Object(a.useState)(""),r=Object(u.a)(i,2),s=r[0],l=r[1];return c.a.createElement("div",{id:"content"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(s)}},c.a.createElement("input",{id:"newTask",type:"text",className:"form-control",placeholder:"Nueva tarea...",required:!0,onChange:function(e){l(e.target.value)}}),c.a.createElement("input",{type:"submit",className:"btn btn-primary btn-block mt-3",hidden:"",value:"Agregar tarea"})),c.a.createElement("ul",{id:"taskList",className:"list-unstyled"},t.map((function(e){return c.a.createElement("div",{className:"taskTemplate",key:e.id},c.a.createElement("label",{htmlFor:""},c.a.createElement("input",{type:"checkbox",defaultChecked:e.completed,onChange:function(){return t=e.id,console.log(t),void o(t);var t},name:"",id:""}),c.a.createElement("span",{className:"ml-3 content"},e.content)))}))),c.a.createElement("ul",{id:"completedTaskList",className:"list-unstyled"}))};var y=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(0),r=Object(u.a)(i,2),m=(r[0],r[1]),y=Object(a.useState)([]),b=Object(u.a)(y,2),v=b[0],h=b[1],k=Object(a.useState)(!0),x=Object(u.a)(k,2),E=x[0],w=x[1],g=Object(a.useState)({}),T=Object(u.a)(g,2),N=T[0],j=T[1];function O(){return(O=Object(l.a)(s.a.mark((function e(){var t,n,a,c,i,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=26;break}return t=[],n=new p.a(p.a.givenProvider||"http://127.0.0.1:7645"),e.next=5,n.eth.getAccounts();case 5:return a=e.sent,o(a[0]),c=new n.eth.Contract(d,"0xB468592c587898b7F2F15c3B8e1fb20D352B2e7c"),j(c),e.next=11,c.methods.taskCount().call();case 11:i=e.sent,m(i),r=1;case 14:if(!(r<=i)){e.next=22;break}return e.next=17,c.methods.tasks(r).call();case 17:l=e.sent,t.push(l);case 19:r++,e.next=14;break;case 22:h(t),w(!1),e.next=27;break;case 26:window.alert("No tienes instalado Metamask");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,N.methods.createTask(t).send({from:n}).on("receipt",(function(e){w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,N.methods.toggleCompleted(t).send({from:n}).on("receipt",(function(e){w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"Container"},c.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},c.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"#"},"Todo List"),c.a.createElement("ul",{className:"navbar-nav px-3"},c.a.createElement("li",{className:"nav-item text-nowrap d-none d-sm-none d-sm-block"},c.a.createElement("small",null,c.a.createElement("a",{className:"nav-link",href:"#"},c.a.createElement("span",{id:"account"})))))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("main",{role:"main",className:"col-lg-12 d-flex justify-content-center"},E?c.a.createElement("div",{id:"loader",className:"text-center"},c.a.createElement("p",{className:"text-center"},"Loading...")):c.a.createElement(f,{tasks:v,createTask:C,completed:S})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.75f472f8.chunk.js.map